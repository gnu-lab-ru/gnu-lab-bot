Тестирование

Юнит-тесты (ERT)
- Командный парсер: распознавание имени и аргументов (MUST).
- Линтер eval: позитивные/негативные кейсы; глубина и размер AST (MUST).
- Валидатор эффектов: обязательные поля, известные типы (MUST).

Контракт-тесты
- Фиктивный транспорт: заданный Event → ожидаемые Effects (SHOULD).

Интеграционные
- Заглушка песочницы: /eval "(+ 1 2)" → "3" (SHOULD).

Инварианты
- Любой handler — pure (MUST).
- Все эффекты — валидны до исполнения (MUST).

Линтинг
- Инструменты (MUST): byte-compile (с byte-compile-error-on-warn в CI), checkdoc, package-lint; для Scheme: guild compile; для Guix: guix lint, guix style -n.
- Единая команда (MUST): make lint (или guix shell -m guix/shell.scm -- scripts/lint) печатает агрегированный отчёт и возвращает суммарный статус.
- Ветка CI (SHOULD): make ci (строгий режим — варнинги как ошибки, линт + тесты).
